<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
    <script type="text/javascript" src="http://api.map.baidu.com/api?v=1.4"></script>
    <script type="text/javascript" src="http://api.map.baidu.com/library/Heatmap/2.0/src/Heatmap_min.js"></script>
    <title>热力图功能示例</title>
    <style type="text/css">
        ul,li{list-style: none;margin:0;padding:0;float:left;}
        html{height:100%}
        body{height:100%;margin:0px;padding:0px;font-family:"微软雅黑";}
        #container{height:95%;width:100%;}
        #r-result{width:100%;}
    </style>
</head>
<body onload="openHeatmap()">
    <div id="container"></div>
    <div id="r-result">
        <a href="data0100.html">00:00-01:00</a>
        <a href="data0101.html">01:00-02:00</a>
        <a href="data0102.html">02:00-03:00</a>
        <a href="data0103.html">03:00-04:00</a>
        <a href="data0104.html">04:00-05:00</a>
        <a href="data0105.html">05:00-06:00</a>
        <a href="data0106.html">06:00-07:00</a>
        <a href="data0107.html">07:00-08:00</a>
        <a href="data0108.html">08:00-09:00</a>
        <a href="data0109.html">09:00-10:00</a>
        <a href="data0110.html">10:00-11:00</a>
        <a href="data0111.html">11:00-12:00</a>
        <a href="data0112.html">12:00-13:00</a>
        <a href="data0113.html">13:00-14:00</a>
        <a href="data0114.html">14:00-15:00</a>
        <a href="data0115.html">15:00-16:00</a>
        <a href="data0116.html">16:00-17:00</a>
        <a href="data0117.html">17:00-18:00</a>
        <a href="data0118.html">18:00-19:00</a>
        <a href="data0119.html">19:00-20:00</a>
        <a href="data0120.html">20:00-21:00</a>
        <a href="data0121.html">21:00-22:00</a>
        <a href="data0122.html">22:00-23:00</a>
        <a href="data0123.html">23:00-24:00</a>
        <input type="button"  onclick="openHeatmap();" value="显示热力图"/><input type="button"  onclick="closeHeatmap();" value="关闭热力图"/>
    </div>
</body>
</html>
<script type="text/javascript">
    var map = new BMap.Map("container");          // 创建地图实例

    var point = new BMap.Point(108.97, 34.25);
    map.centerAndZoom(point,15);             // 初始化地图，设置中心点坐标和地图级别
    map.enableScrollWheelZoom(); // 允许滚轮缩放
    var points = [{"lat":34.26433,"lng":108.96496,"count":1},
{"lat":34.25253,"lng":108.93612,"count":1},
{"lat":34.26312,"lng":108.96701,"count":1},
{"lat":34.25972,"lng":108.93254,"count":1},
{"lat":34.24119,"lng":108.95886,"count":1},
{"lat":34.21349,"lng":108.94675,"count":1},
{"lat":34.25952,"lng":108.93926,"count":1},
{"lat":34.2507,"lng":108.92134,"count":1},
{"lat":34.23023,"lng":108.93074,"count":1},
{"lat":34.23137,"lng":108.9469,"count":1},
{"lat":34.21136,"lng":108.95653,"count":1},
{"lat":34.24198,"lng":108.94675,"count":1},
{"lat":34.24706,"lng":108.93215,"count":1},
{"lat":34.25087,"lng":108.96289,"count":1},
{"lat":34.25536,"lng":108.93901,"count":1},
{"lat":34.25962,"lng":108.93907,"count":1},
{"lat":34.23486,"lng":108.97228,"count":1},
{"lat":34.23548,"lng":108.92495,"count":1},
{"lat":34.26977,"lng":108.93251,"count":1},
{"lat":34.25753,"lng":108.96545,"count":1},
{"lat":34.2511,"lng":108.97535,"count":1},
{"lat":34.25331,"lng":108.97518,"count":1},
{"lat":34.26693,"lng":108.9409,"count":1},
{"lat":34.23377,"lng":108.95003,"count":1},
{"lat":34.2334,"lng":108.97175,"count":1},
{"lat":34.25205,"lng":108.93921,"count":1},
{"lat":34.23549,"lng":108.92448,"count":1},
{"lat":34.21831,"lng":108.93677,"count":1},
{"lat":34.25234,"lng":108.95397,"count":1},
{"lat":34.25958,"lng":108.95131,"count":1},
{"lat":34.24662,"lng":108.94294,"count":1},
{"lat":34.25086,"lng":108.9726,"count":1},
{"lat":34.26959,"lng":108.93238,"count":1},
{"lat":34.22551,"lng":108.95559,"count":1},
{"lat":34.25575,"lng":108.92148,"count":1},
{"lat":34.2297,"lng":108.93281,"count":1},
{"lat":34.25138,"lng":108.94772,"count":1},
{"lat":34.2229,"lng":108.94683,"count":1},
{"lat":34.2519,"lng":108.96547,"count":1},
{"lat":34.21819,"lng":108.93674,"count":1},
{"lat":34.25767,"lng":108.93044,"count":1},
{"lat":34.24004,"lng":108.95705,"count":1},
{"lat":34.22624,"lng":108.93203,"count":1},
{"lat":34.25882,"lng":108.92581,"count":1},
{"lat":34.22285,"lng":108.95918,"count":1},
{"lat":34.25089,"lng":108.92017,"count":1},
{"lat":34.25547,"lng":108.94212,"count":1},
{"lat":34.25925,"lng":108.94332,"count":1},
{"lat":34.25253,"lng":108.96341,"count":1},
{"lat":34.22553,"lng":108.94648,"count":1},
{"lat":34.26967,"lng":108.93304,"count":1},
{"lat":34.25909,"lng":108.98038,"count":1},
{"lat":34.26951,"lng":108.92193,"count":1},
{"lat":34.25935,"lng":108.93766,"count":1},
{"lat":34.22288,"lng":108.94113,"count":1},
{"lat":34.25237,"lng":108.94633,"count":1},
{"lat":34.25953,"lng":108.95755,"count":1},
{"lat":34.24831,"lng":108.94974,"count":1},
{"lat":34.24112,"lng":108.94853,"count":1},
{"lat":34.25017,"lng":108.94771,"count":1},
{"lat":34.237,"lng":108.94692,"count":1},
{"lat":34.23842,"lng":108.93226,"count":1},
{"lat":34.25843,"lng":108.93901,"count":1},
{"lat":34.23547,"lng":108.92643,"count":1},
{"lat":34.25559,"lng":108.94685,"count":1},
{"lat":34.25942,"lng":108.93281,"count":1},
{"lat":34.25407,"lng":108.97513,"count":1},
{"lat":34.25346,"lng":108.96325,"count":1},
{"lat":34.22821,"lng":108.94672,"count":1},
{"lat":34.25203,"lng":108.95798,"count":1},
{"lat":34.23017,"lng":108.95388,"count":1},
{"lat":34.25909,"lng":108.9803,"count":1},
{"lat":34.25824,"lng":108.94695,"count":1},
{"lat":34.24399,"lng":108.95379,"count":1},
{"lat":34.23696,"lng":108.94872,"count":1},
{"lat":34.25934,"lng":108.9689,"count":1},
{"lat":34.23675,"lng":108.94907,"count":1},
{"lat":34.21195,"lng":108.93912,"count":1},
{"lat":34.25802,"lng":108.95235,"count":1},
{"lat":34.2594,"lng":108.93269,"count":1},
{"lat":34.25962,"lng":108.93254,"count":1},
{"lat":34.24599,"lng":108.94723,"count":1},
{"lat":34.22547,"lng":108.9391,"count":1},
{"lat":34.25211,"lng":108.95308,"count":1},
{"lat":34.22667,"lng":108.94671,"count":1},
{"lat":34.25421,"lng":108.96442,"count":1},
{"lat":34.23547,"lng":108.92615,"count":1},
{"lat":34.24758,"lng":108.95411,"count":1},
{"lat":34.22275,"lng":108.95188,"count":1},
{"lat":34.25,"lng":108.94293,"count":1},
{"lat":34.21718,"lng":108.97112,"count":1},
{"lat":34.25917,"lng":108.93891,"count":1},
{"lat":34.25558,"lng":108.94033,"count":1},
{"lat":34.25942,"lng":108.92085,"count":1},
{"lat":34.24373,"lng":108.96024,"count":1},
{"lat":34.22311,"lng":108.92305,"count":1},
{"lat":34.25991,"lng":108.93254,"count":1},
{"lat":34.25545,"lng":108.94224,"count":1},
{"lat":34.21815,"lng":108.93729,"count":1},
{"lat":34.24128,"lng":108.96016,"count":1},
{"lat":34.22674,"lng":108.93209,"count":1},
{"lat":34.23028,"lng":108.93038,"count":1},
{"lat":34.21984,"lng":108.9468,"count":1},
{"lat":34.23035,"lng":108.95363,"count":1},
{"lat":34.23179,"lng":108.9218,"count":1},
{"lat":34.25544,"lng":108.9632,"count":1},
{"lat":34.25702,"lng":108.97498,"count":1},
{"lat":34.25945,"lng":108.9456,"count":1},
{"lat":34.25234,"lng":108.93287,"count":1},
{"lat":34.22551,"lng":108.94754,"count":1},
{"lat":34.25036,"lng":108.94457,"count":1},
{"lat":34.23279,"lng":108.94675,"count":1},
{"lat":34.23548,"lng":108.92463,"count":1},
{"lat":34.2433,"lng":108.93924,"count":1},
{"lat":34.23018,"lng":108.93104,"count":1},
{"lat":34.21172,"lng":108.96131,"count":1},
{"lat":34.26981,"lng":108.92048,"count":1},
{"lat":34.25202,"lng":108.95868,"count":1},
{"lat":34.2524,"lng":108.93906,"count":1},
{"lat":34.23017,"lng":108.95348,"count":1},
{"lat":34.23801,"lng":108.98384,"count":1},
{"lat":34.25566,"lng":108.93267,"count":1},
{"lat":34.23109,"lng":108.96726,"count":1},
{"lat":34.22497,"lng":108.98004,"count":1},
{"lat":34.25318,"lng":108.96339,"count":1},
{"lat":34.26912,"lng":108.96299,"count":1},
{"lat":34.25562,"lng":108.9396,"count":1},
{"lat":34.24711,"lng":108.94294,"count":1},
{"lat":34.25961,"lng":108.93254,"count":1},
{"lat":34.22567,"lng":108.98199,"count":1},
{"lat":34.25192,"lng":108.93129,"count":1},
{"lat":34.21136,"lng":108.94658,"count":1},
{"lat":34.24787,"lng":108.93599,"count":1},
{"lat":34.26902,"lng":108.92267,"count":1},
{"lat":34.25105,"lng":108.9535,"count":1},
{"lat":34.26697,"lng":108.97867,"count":1},
{"lat":34.25922,"lng":108.94545,"count":1},
{"lat":34.25419,"lng":108.96336,"count":1},
{"lat":34.22675,"lng":108.97503,"count":1},
{"lat":34.25536,"lng":108.94685,"count":1},
{"lat":34.22288,"lng":108.9471,"count":1},
{"lat":34.22222,"lng":108.94682,"count":1},
{"lat":34.25028,"lng":108.95008,"count":1},
{"lat":34.22216,"lng":108.94682,"count":1},
{"lat":34.25984,"lng":108.92437,"count":1},
{"lat":34.26948,"lng":108.98607,"count":1},
{"lat":34.25963,"lng":108.95859,"count":1},
{"lat":34.25767,"lng":108.939,"count":1},
{"lat":34.26357,"lng":108.92106,"count":1},
{"lat":34.22326,"lng":108.92223,"count":1},
{"lat":34.25865,"lng":108.95389,"count":1},
{"lat":34.23346,"lng":108.97189,"count":1},
{"lat":34.25602,"lng":108.96318,"count":1},
{"lat":34.23832,"lng":108.98148,"count":1},
{"lat":34.26433,"lng":108.96536,"count":1},
{"lat":34.25837,"lng":108.9631,"count":1},
{"lat":34.24369,"lng":108.94683,"count":1},
{"lat":34.25696,"lng":108.94185,"count":1},
{"lat":34.26982,"lng":108.94603,"count":1},
{"lat":34.25954,"lng":108.9652,"count":1},
{"lat":34.23691,"lng":108.94757,"count":1},
{"lat":34.24128,"lng":108.95905,"count":1},
{"lat":34.24357,"lng":108.9636,"count":1},
{"lat":34.23043,"lng":108.98268,"count":1},
{"lat":34.25095,"lng":108.96627,"count":1},
{"lat":34.24362,"lng":108.96595,"count":1},
{"lat":34.24592,"lng":108.9323,"count":1},
{"lat":34.2377,"lng":108.98334,"count":1},
{"lat":34.25932,"lng":108.93932,"count":1},
{"lat":34.24974,"lng":108.94292,"count":1},
{"lat":34.23289,"lng":108.9469,"count":1},
{"lat":34.24122,"lng":108.94818,"count":1},
{"lat":34.25039,"lng":108.94455,"count":1},
{"lat":34.25922,"lng":108.95204,"count":1},
{"lat":34.25212,"lng":108.9524,"count":1},
{"lat":34.25555,"lng":108.97272,"count":1},
{"lat":34.26976,"lng":108.93102,"count":1},
{"lat":34.22287,"lng":108.92779,"count":1},
{"lat":34.22521,"lng":108.94669,"count":1},
{"lat":34.23082,"lng":108.9469,"count":1},
{"lat":34.25954,"lng":108.9335,"count":1},
{"lat":34.23125,"lng":108.9469,"count":1},
{"lat":34.25931,"lng":108.93963,"count":1},
{"lat":34.21191,"lng":108.92166,"count":1},
{"lat":34.23338,"lng":108.95034,"count":1},
{"lat":34.26434,"lng":108.96431,"count":1},
{"lat":34.2368,"lng":108.94905,"count":1},
{"lat":34.22521,"lng":108.93922,"count":1},
{"lat":34.25952,"lng":108.93937,"count":1},
{"lat":34.23439,"lng":108.93581,"count":1},
{"lat":34.25558,"lng":108.96332,"count":1},
{"lat":34.22332,"lng":108.97355,"count":1},
{"lat":34.22958,"lng":108.94595,"count":1},
{"lat":34.21559,"lng":108.95653,"count":1},
{"lat":34.22276,"lng":108.93234,"count":1},
{"lat":34.24887,"lng":108.93235,"count":1},
{"lat":34.23924,"lng":108.95059,"count":1},
{"lat":34.21802,"lng":108.95041,"count":1},
{"lat":34.25326,"lng":108.95398,"count":1},
{"lat":34.21282,"lng":108.96434,"count":1},
{"lat":34.25239,"lng":108.94036,"count":1},
{"lat":34.25963,"lng":108.95864,"count":1},
{"lat":34.22276,"lng":108.93154,"count":1},
{"lat":34.26131,"lng":108.98831,"count":1},
{"lat":34.24914,"lng":108.94988,"count":1},
{"lat":34.22523,"lng":108.93203,"count":1},
{"lat":34.23283,"lng":108.92267,"count":1},
{"lat":34.25561,"lng":108.93987,"count":1},
{"lat":34.21826,"lng":108.95779,"count":1},
{"lat":34.25906,"lng":108.93901,"count":1},
{"lat":34.21793,"lng":108.94663,"count":1},
{"lat":34.25521,"lng":108.96321,"count":1},
{"lat":34.23551,"lng":108.92819,"count":1},
{"lat":34.2456,"lng":108.96585,"count":1},
{"lat":34.25563,"lng":108.93947,"count":1},
{"lat":34.23122,"lng":108.93208,"count":1},
{"lat":34.2221,"lng":108.98584,"count":1},
{"lat":34.25606,"lng":108.94838,"count":1},
{"lat":34.25083,"lng":108.94119,"count":1},
{"lat":34.25933,"lng":108.93312,"count":1},
{"lat":34.26959,"lng":108.98855,"count":1},
{"lat":34.21813,"lng":108.93844,"count":1},
{"lat":34.21957,"lng":108.92078,"count":1},
{"lat":34.22882,"lng":108.94688,"count":1},
{"lat":34.25948,"lng":108.93924,"count":1},
{"lat":34.21181,"lng":108.93568,"count":1},
{"lat":34.25612,"lng":108.94719,"count":1},
{"lat":34.25755,"lng":108.9389,"count":1},
{"lat":34.24961,"lng":108.94906,"count":1},
{"lat":34.25934,"lng":108.93843,"count":1},
{"lat":34.26257,"lng":108.94702,"count":1},
{"lat":34.22193,"lng":108.94674,"count":1},
{"lat":34.25918,"lng":108.97408,"count":1},
{"lat":34.25737,"lng":108.96696,"count":1},
{"lat":34.25739,"lng":108.9389,"count":1},
{"lat":34.22733,"lng":108.92943,"count":1},
{"lat":34.25231,"lng":108.93906,"count":1},
{"lat":34.25156,"lng":108.95399,"count":1},
{"lat":34.25098,"lng":108.9427,"count":1},
{"lat":34.26375,"lng":108.98423,"count":1},
{"lat":34.26974,"lng":108.92845,"count":1},
{"lat":34.25952,"lng":108.93934,"count":1},
{"lat":34.22345,"lng":108.97108,"count":1},
{"lat":34.26468,"lng":108.97615,"count":1},
{"lat":34.23829,"lng":108.93202,"count":1},
{"lat":34.24262,"lng":108.93212,"count":1},
{"lat":34.21088,"lng":108.97052,"count":1},
{"lat":34.25202,"lng":108.94913,"count":1},
{"lat":34.25931,"lng":108.9399,"count":1},
{"lat":34.24537,"lng":108.94699,"count":1},
{"lat":34.26452,"lng":108.9744,"count":1},
{"lat":34.24602,"lng":108.96112,"count":1},
{"lat":34.24534,"lng":108.96585,"count":1},
{"lat":34.25922,"lng":108.92099,"count":1},
{"lat":34.2114,"lng":108.95653,"count":1},
{"lat":34.22151,"lng":108.94682,"count":1},
{"lat":34.23774,"lng":108.98469,"count":1},
{"lat":34.26437,"lng":108.97232,"count":1},
{"lat":34.25793,"lng":108.9232,"count":1},
{"lat":34.23812,"lng":108.94868,"count":1},
{"lat":34.25487,"lng":108.97509,"count":1},
{"lat":34.25547,"lng":108.94609,"count":1},
{"lat":34.25951,"lng":108.93016,"count":1},
{"lat":34.25942,"lng":108.92083,"count":1},
{"lat":34.22731,"lng":108.93209,"count":1},
{"lat":34.24321,"lng":108.94698,"count":1},
{"lat":34.22023,"lng":108.94665,"count":1},
{"lat":34.25931,"lng":108.93974,"count":1},
{"lat":34.25547,"lng":108.94649,"count":1},
{"lat":34.25246,"lng":108.93143,"count":1},
{"lat":34.25246,"lng":108.93029,"count":1},
{"lat":34.25248,"lng":108.93635,"count":1},
{"lat":34.2214,"lng":108.92188,"count":1},
{"lat":34.22279,"lng":108.96215,"count":1},
{"lat":34.25456,"lng":108.93253,"count":1},
{"lat":34.23558,"lng":108.96782,"count":1},
{"lat":34.25562,"lng":108.93967,"count":1},
{"lat":34.23581,"lng":108.97999,"count":1},
{"lat":34.23609,"lng":108.94676,"count":1},
{"lat":34.26995,"lng":108.9636,"count":1},
{"lat":34.2508,"lng":108.93565,"count":1},
{"lat":34.23559,"lng":108.92498,"count":1},
{"lat":34.22067,"lng":108.98374,"count":1},
{"lat":34.25932,"lng":108.93933,"count":1},
{"lat":34.25397,"lng":108.94391,"count":1},
{"lat":34.26981,"lng":108.92062,"count":1},
{"lat":34.24128,"lng":108.95939,"count":1},
{"lat":34.25118,"lng":108.9793,"count":1},
{"lat":34.25292,"lng":108.94604,"count":1},
{"lat":34.25948,"lng":108.95202,"count":1},
{"lat":34.25069,"lng":108.94404,"count":1},
{"lat":34.25544,"lng":108.95393,"count":1},
{"lat":34.23899,"lng":108.95706,"count":1},
{"lat":34.22605,"lng":108.95655,"count":1},
{"lat":34.22279,"lng":108.96082,"count":1},
{"lat":34.25237,"lng":108.94633,"count":1},
{"lat":34.26025,"lng":108.93256,"count":1},
{"lat":34.25934,"lng":108.93281,"count":1},
{"lat":34.23017,"lng":108.93134,"count":1},
{"lat":34.22505,"lng":108.98023,"count":1},
{"lat":34.23558,"lng":108.92535,"count":1},
{"lat":34.25788,"lng":108.96698,"count":1},
{"lat":34.22547,"lng":108.96778,"count":1},
{"lat":34.26701,"lng":108.94289,"count":1},
{"lat":34.23693,"lng":108.94833,"count":1},
{"lat":34.24272,"lng":108.939,"count":1},
{"lat":34.22275,"lng":108.93739,"count":1},
{"lat":34.24831,"lng":108.95404,"count":1},
{"lat":34.25934,"lng":108.93281,"count":1},
{"lat":34.25954,"lng":108.93273,"count":1},
{"lat":34.23813,"lng":108.93225,"count":1},
{"lat":34.25954,"lng":108.93282,"count":1},
{"lat":34.25963,"lng":108.95842,"count":1},
{"lat":34.25482,"lng":108.97509,"count":1},
{"lat":34.22543,"lng":108.94188,"count":1},
{"lat":34.25257,"lng":108.93905,"count":1},
{"lat":34.24339,"lng":108.96344,"count":1},
{"lat":34.25197,"lng":108.93478,"count":1},
{"lat":34.25072,"lng":108.94399,"count":1},
{"lat":34.25932,"lng":108.93931,"count":1},
{"lat":34.24293,"lng":108.96313,"count":1},
{"lat":34.25937,"lng":108.95183,"count":1},
{"lat":34.23828,"lng":108.96166,"count":1},
{"lat":34.25317,"lng":108.944,"count":1},
{"lat":34.25209,"lng":108.92318,"count":1},
{"lat":34.22287,"lng":108.93604,"count":1},
{"lat":34.25924,"lng":108.9436,"count":1},
{"lat":34.24825,"lng":108.95413,"count":1},
{"lat":34.23721,"lng":108.93893,"count":1},
{"lat":34.2593,"lng":108.97755,"count":1},
{"lat":34.24489,"lng":108.94685,"count":1},
{"lat":34.24595,"lng":108.9272,"count":1},
{"lat":34.23234,"lng":108.94689,"count":1},
{"lat":34.24603,"lng":108.9657,"count":1},
{"lat":34.22958,"lng":108.93236,"count":1},
{"lat":34.26715,"lng":108.97935,"count":1},
{"lat":34.2305,"lng":108.94896,"count":1},
{"lat":34.21826,"lng":108.95747,"count":1},
{"lat":34.2535,"lng":108.96325,"count":1},
{"lat":34.24825,"lng":108.95413,"count":1},
{"lat":34.22074,"lng":108.98381,"count":1},
{"lat":34.23553,"lng":108.9493,"count":1},
{"lat":34.23998,"lng":108.9834,"count":1},
{"lat":34.25459,"lng":108.97512,"count":1},
{"lat":34.25561,"lng":108.96377,"count":1},
{"lat":34.2131,"lng":108.9466,"count":1},
{"lat":34.24999,"lng":108.94586,"count":1},
{"lat":34.22555,"lng":108.9246,"count":1},
{"lat":34.2302,"lng":108.94974,"count":1},
{"lat":34.23522,"lng":108.9248,"count":1},
{"lat":34.25214,"lng":108.93917,"count":1},
{"lat":34.24587,"lng":108.94303,"count":1},
{"lat":34.25095,"lng":108.95074,"count":1},
{"lat":34.25199,"lng":108.93723,"count":1},
{"lat":34.2619,"lng":108.96289,"count":1},
{"lat":34.22739,"lng":108.94686,"count":1},
{"lat":34.25063,"lng":108.93607,"count":1},
{"lat":34.23561,"lng":108.96219,"count":1},
{"lat":34.25953,"lng":108.93231,"count":1},

];


    if(!isSupportCanvas()){
        alert('热力图目前只支持有canvas支持的浏览器,您所使用的浏览器不能使用热力图功能~')
    }
    //详细的参数,可以查看heatmap.js的文档 https://github.com/pa7/heatmap.js/blob/master/README.md
    //参数说明如下:
    /* visible 热力图是否显示,默认为true
     * opacity 热力的透明度,1-100
     * radius 势力图的每个点的半径大小
     * gradient  {JSON} 热力图的渐变区间 . gradient如下所示
     *  {
            .2:'rgb(0, 255, 255)',
            .5:'rgb(0, 110, 255)',
            .8:'rgb(100, 0, 255)'
        }
        其中 key 表示插值的位置, 0~1.
            value 为颜色值.
     */
    heatmapOverlay = new BMapLib.HeatmapOverlay({"radius":25});
    map.addOverlay(heatmapOverlay);
    heatmapOverlay.setDataSet({data:points,max:20});
    //是否显示热力图
    function openHeatmap(){
        heatmapOverlay.show();
    }
    function closeHeatmap(){
        heatmapOverlay.hide();
    }
    closeHeatmap();
    function setGradient(){
        /*格式如下所示:
        {
            0:'rgb(102, 255, 0)',
            .5:'rgb(255, 170, 0)',
            1:'rgb(255, 0, 0)'
        }*/
        var gradient = {};
        var colors = document.querySelectorAll("input[type='color']");
        colors = [].slice.call(colors,0);
        colors.forEach(function(ele){
            gradient[ele.getAttribute("data-key")] = ele.value;
        });
        heatmapOverlay.setOptions({"gradient":gradient});
    }
    //判断浏览区是否支持canvas
    function isSupportCanvas(){
        var elem = document.createElement('canvas');
        return !!(elem.getContext && elem.getContext('2d'));
    }
</script>